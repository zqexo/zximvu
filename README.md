# zximvu
# IMVU Chat Participant Data Collector

Эта программа предназначена для сбора данных участников чата на сайте виртуального 3D чата IMVU, используя API IMVU, и сохранения этих данных в базу данных PostgreSQL.

## Описание

Программа выполняет следующие функции:
1. Получение списка участников чата из API IMVU.
2. Фильтрация и сортировка полученных данных по заданным критериям.
3. Сохранение данных в базу данных PostgreSQL.
4. Вывод информации об участниках чата.

## Установка

### Требования

- Python 3.8+
- PostgreSQL
- Установленные пакеты Python, указанные в `pyproject.toml`.

### Шаги установки

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/ваш_пользователь/imvu-chat-collector.git
    cd imvu-chat-collector
    ```

2. Создайте виртуальное окружение и активируйте его:
    ```bash
    python -m venv venv
    source venv/bin/activate  # На Windows: venv\Scripts\activate
    ```

3. Установите зависимости, указанные в `pyproject.toml`:
    ```bash
    poetry install
    ```

4. Настройте базу данных PostgreSQL и создайте таблицу `participants`:
    ```sql
    CREATE TABLE participants (
        id SERIAL PRIMARY KEY,
        username TEXT,
        avatar_url TEXT
    );
    ```

## Использование

1. Запустите скрипт:
    ```bash
    poetry run collect-imvu-data
    ```

2. Следуйте инструкциям в консоли:
    - Введите ID чата для IMVU.
    - Введите количество участников для добавления в базу данных.
    - Введите ключевые слова для фильтрации участников.
    
3. Программа получит данные участников чата, отфильтрует и отсортирует их по заданным критериям, сохранит в базу данных и выведет информацию об участниках в консоль.

## Структура проекта

- `src/`
  - `imvu_api.py` - Модуль для взаимодействия с API IMVU.
  - `db_manager.py` - Модуль для работы с базой данных PostgreSQL.
  - `participant.py` - Модель данных для участника чата.
  - `utils.py` - Утилиты для обработки данных.
  - `fileworker.py` - (Не используется в текущей версии) Модуль для работы с файлами JSON.
- `main.py` - Основной скрипт для запуска программы.
- `pyproject.toml` - Файл конфигурации проекта, описывающий зависимости и скрипты Poetry.

## Примеры запросов к API IMVU

- Получение участников чата:
  ```http
  https://api.imvu.com/chat/chat-<chat_id>-10/participants/
